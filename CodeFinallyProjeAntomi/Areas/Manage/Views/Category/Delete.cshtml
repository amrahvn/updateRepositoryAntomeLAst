@model Category
@{
    ViewData["Title"] = "Delete";
    int no = 0;
}

<div class="d-sm-flex align-items-center justify-content-between mb-4" style="
                                                                        position: absolute;
                                                                        right: 72px;
                                                                        top: 6rem;
                                                                    ">
    <h3>Category Delete</h3>
</div>

<div class="row">
    <div class="container">
        <div class="card" style="width: 18rem;margin-left: 140px;margin-top: 12rem;margin-bottom:-65px">
            @if (Model.Image != null)
            {
                <img class="card-img-top" src="~/Assets/Photos/Category/@Model.Image" alt="Card image cap">
            }
            <div class="card-body">
                <h5 class="card-title">@Model.Name</h5>
            </div>
        </div>
        @if (Model.Children != null && Model.Children.Count() > 0)
        {
            <table class="table table-striped table-dark" style="
    margin-left: 138px;
    margin-top: 8rem;
">

                <thead>

                    <tr>
                        <th scope="col">No</th>
                        <th scope="col">Name</th>
                        <th scope="col">Product Count</th>
                        <th scope="col">Created Date</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (Category category in Model.Children)
                    {
                        no++;
                        <tr>
                            <th scope="row">@no</th>
                            <td>Child Category: @category.Name</td>
                            <td>Count:@(category.Products != null ? category.Products.Count() : 0)</td>
                            <td>Date:@category.CreatedAt.ToString("yyyy/MM/dd")</td>
                        </tr>
                    }
                </tbody>
            </table>
        }

        @if (Model.Products != null && Model.Products.Count() > 0)
        {

            <table class="table table-striped table-dark" style="
    margin-left: 138px;
    margin-top: 8rem;
">

                <thead>

                    <tr>
                        <th scope="col">Name</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (Product product in Model.Products)
                    {
                        <tr>

                            <td>Product Name: @product.Title</td>
                        </tr>
                    }
                </tbody>
            </table>
        }
        <div style="margin-left: 137px;margin-top: 82px;">
            <a asp-area="manage" asp-controller="Category" asp-action="DeleteCategory" asp-route-id="@Model.Id" class="btn btn-primary">Delete</a>
        </div>
        <div style="margin-left: 137px;margin-top: 12px;">
            <a asp-area="manage" asp-controller="Category" asp-action="Index" class="btn btn-primary">Go Back</a>
        </div>
    </div>
</div>



